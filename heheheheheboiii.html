<html>
  <head>
    <title>hmmmmmmmmmmmmmmmmmmmmm?</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
    />
    <script src="./src/javascript/jquery/jquery-3.5.1.js"></script>
  </head>
  <body>
    <style>
      body::-webkit-scrollbar,
      body::-webkit-scrollbar-thumb,
      body::-webkit-scrollbar-track {
        width: 0;
      }
      body {
        margin: 0;
        background: #020202;
        cursor: crosshair;
        background-attachment: fixed;
        font-family: "Roboto";
      }
      body::-webkit-scrollbar,
      body::-webkit-scrollbar-thumb {
        width: 0;
      }
      canvas {
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        z-index: -1;
      }
      section {
        padding: 10px;
      }
      .card {
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        align-items: center;
        max-width: 500px;
        margin: auto;
        color: #fff;
        -webkit-user-select: none;
        user-select: none;
        text-align: center;
        backdrop-filter: blur(5px);
        border-radius: 10px;
        padding: 10px;
        background: #58585826;
        transform: translateY(20px);
      }
      .card h1 {
        font-size: 50px;
        font-weight: 900;
        margin-bottom: 10px;
      }

      .card img {
        border-radius: 50%;
        border: 3px solid #4caf50;
        padding: 3px;
      }

      .card svg {
        padding-top: 20px;
        width: 150px;
      }

      .card span {
        padding: 15px;
        font-size: 25px;
      }
    </style>
    <section>
      <div class="card">
        <h1>
          Happy Birthday<br /><span style="font-size: 30px">Khaki Alien</span>
        </h1>
        <img
          src="https://cdn.discordapp.com/avatars/793040719086354462/bf624ec8588ae03e172602e858f69db1.webp"
          alt=""
        />
        <svg
          version="1.1"
          width="200px"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 323.162 323.162"
          style="enable-background: new 0 0 323.162 323.162"
          xml:space="preserve"
        >
          <path
            id="XMLID_1701_"
            style="fill: #ff5959"
            d="M227.478,61.547c0,11.123-9.017,20.141-20.141,20.141 s-20.141-9.017-20.141-20.141c0-15.356,20.141-30.928,20.141-30.928S227.478,46.191,227.478,61.547z"
          />
          <path
            id="XMLID_1702_"
            style="fill: #ff5959"
            d="M135.966,61.547c0,11.123-9.017,20.141-20.141,20.141s-20.14-9.018-20.14-20.141 c0-15.356,20.141-30.928,20.141-30.928S135.966,46.191,135.966,61.547z"
          />
          <circle
            id="XMLID_1703_"
            style="fill: #ff5959"
            cx="161.581"
            cy="43.432"
            r="35.596"
          />
          <rect
            id="XMLID_598_"
            x="33.554"
            y="133.458"
            style="fill: #fffeb9"
            width="256.056"
            height="160.018"
          />
          <path
            id="XMLID_1704_"
            style="fill: #ffe165"
            d="M271.268,66.154H51.894c-16.557,0-29.98,13.422-29.98,29.98v40.514h279.333V96.134 C301.248,79.576,287.826,66.154,271.268,66.154z"
          />
          <path
            id="XMLID_1706_"
            style="fill: #ffe165"
            d="M21.915,129.581v75.514c0,10.359,9.106,18.835,20.235,18.835l0,0 c11.129,0,20.235-8.476,20.235-18.835v-75.514H21.915z"
          />
          <path
            id="XMLID_1707_"
            style="fill: #ffe165"
            d="M101.758,129.581v64.82c0,10.359,9.106,18.835,20.235,18.835l0,0 c11.129,0,20.235-8.476,20.235-18.835v-64.82H101.758z"
          />
          <path
            id="XMLID_1708_"
            style="fill: #ffe165"
            d="M141.679,129.581v42.174c0,10.359,9.106,18.835,20.235,18.835l0,0 c11.129,0,20.235-8.476,20.235-18.835v-42.174L141.679,129.581L141.679,129.581z"
          />
          <path
            id="XMLID_1709_"
            style="fill: #ffe165"
            d="M61.836,129.581v45.985c0,10.359,9.106,18.835,20.236,18.835l0,0 c11.129,0,20.235-8.476,20.235-18.835v-45.985L61.836,129.581L61.836,129.581z"
          />
          <path
            id="XMLID_592_"
            style="fill: #ffe165"
            d="M301.248,129.581v75.514c0,10.359-8.439,18.835-19.569,18.835l0,0 c-11.129,0-20.235-8.476-20.235-18.835v-75.514H301.248z"
          />
          <path
            id="XMLID_591_"
            style="fill: #ffe165"
            d="M222.072,129.581v64.82c0,10.359-9.106,18.835-20.235,18.835l0,0 c-11.129,0-20.235-8.476-20.235-18.835v-64.82H222.072z"
          />
          <path
            id="XMLID_590_"
            style="fill: #ffe165"
            d="M261.993,129.581v45.985c0,10.359-9.106,18.835-20.236,18.835l0,0 c-11.129,0-20.235-8.476-20.235-18.835v-45.985L261.993,129.581L261.993,129.581z"
          />
          <circle
            id="XMLID_1711_"
            style="fill: #ff5959"
            cx="41.859"
            cy="269.183"
            r="23.944"
          />
          <circle
            id="XMLID_1712_"
            style="fill: #ff5959"
            cx="89.748"
            cy="269.183"
            r="23.944"
          />
          <circle
            id="XMLID_1713_"
            style="fill: #ff5959"
            cx="137.637"
            cy="269.183"
            r="23.944"
          />
          <circle
            id="XMLID_1714_"
            style="fill: #ff5959"
            cx="185.526"
            cy="269.183"
            r="23.944"
          />
          <circle
            id="XMLID_1715_"
            style="fill: #ff5959"
            cx="233.415"
            cy="269.183"
            r="23.944"
          />
          <circle
            id="XMLID_1716_"
            style="fill: #ff5959"
            cx="281.304"
            cy="269.183"
            r="23.944"
          />
          <path
            id="XMLID_1718_"
            style="fill: #5fd2db"
            d="M301.312,315.327H21.851C9.783,315.327,0,305.544,0,293.476l0,0 c0-12.068,9.783-21.851,21.851-21.851h279.46c12.068,0,21.851,9.783,21.851,21.851l0,0 C323.163,305.544,313.38,315.327,301.312,315.327z"
          />
        </svg>
        <span id="rotate"></span>
      </div>
    </section>
    <canvas id="birthday"></canvas>
    <script>
      const day = new Date().getDate(),
        month = new Date().getMonth();
      if (month == 8 && day == 18) {
        $("title").html("Happy Birthday khaki alien!");
        var terms = [
          "Today is...",
          "as beautiful as other days",
          "but you realize",
          "another year has gone",
          "in a blink of the eyes",
          "however",
          "Do you know..?",
          "today is just special",
          "so special to you",
          "that's why",
          "Let's make it...",
          "the best celebration ever",
          "and let me share...",
          "a piece of happiness to you",
          "I made all this...",
          "as a birthday present to you",
          "thanks for being there",
          "thanks for the friendship we made",
          "thanks for everything",
          "I wish you all the best",
          "May your life be at ease",
          "May all your wishes come true",
          "Remember",
          "your ambitions",
          "you live as a free bird...",
          "flying in the blue sky",
          "Now things are different...",
          "real story of your life",
          "is just about to begin",
          "indeed..",
          "but...",
          "dot worry",
          "because...",
          "God has your back",
          "and",
          "this year will be better",
          "and I hope",
          "you'll find...",
          "happiness along the way",
          "keep your spirit up",
          "enjoy every single moment...",
          "that you experience today",
          "fill it with your most beautiful smile",
          "and make it the best memory..",
          "lastly...",
          "I'd like to wish you one more time",
          "a very happy birthday Khaki Alien",
        ];

        function rotateTerm() {
          var ct = $("#rotate").data("term") || 0;
          $("#rotate")
            .data("term", ct == terms.length - 1 ? 0 : ct + 1)
            .text(terms[ct])
            .fadeIn()
            .delay(3000)
            .fadeOut(200, rotateTerm);
        }

        $(rotateTerm);

        // helper functions
        const PI2 = Math.PI * 2;
        const random = (min, max) =>
          (Math.random() * (max - min + 1) + min) | 0;
        const timestamp = (_) => new Date().getTime();

        // container
        class Birthday {
          constructor() {
            this.resize();

            // create a lovely place to store the firework
            this.fireworks = [];
            this.counter = 0;
          }

          resize() {
            this.width = canvas.width = window.innerWidth;
            let center = (this.width / 2) | 0;
            this.spawnA = (center - center / 4) | 0;
            this.spawnB = (center + center / 4) | 0;

            this.height = canvas.height = window.innerHeight;
            this.spawnC = this.height * 0.1;
            this.spawnD = this.height * 0.5;
          }

          onClick(evt) {
            let x = evt.clientX || (evt.touches && evt.touches[0].pageX);
            let y = evt.clientY || (evt.touches && evt.touches[0].pageY);

            let count = random(3, 5);
            for (let i = 0; i < count; i++)
              this.fireworks.push(
                new Firework(
                  random(this.spawnA, this.spawnB),
                  this.height,
                  x,
                  y,
                  random(0, 260),
                  random(30, 110)
                )
              );

            this.counter = -1;
          }

          update(delta) {
            ctx.globalCompositeOperation = "hard-light";
            ctx.fillStyle = `rgba(20,20,20,${7 * delta})`;
            ctx.fillRect(0, 0, this.width, this.height);

            ctx.globalCompositeOperation = "lighter";
            for (let firework of this.fireworks) firework.update(delta);

            // if enough time passed... create new new firework
            this.counter += delta * 3; // each second
            if (this.counter >= 1) {
              this.fireworks.push(
                new Firework(
                  random(this.spawnA, this.spawnB),
                  this.height,
                  random(0, this.width),
                  random(this.spawnC, this.spawnD),
                  random(0, 360),
                  random(30, 110)
                )
              );
              this.counter = 0;
            }

            // remove the dead fireworks
            if (this.fireworks.length > 1000)
              this.fireworks = this.fireworks.filter(
                (firework) => !firework.dead
              );
          }
        }

        class Firework {
          constructor(x, y, targetX, targetY, shade, offsprings) {
            this.dead = false;
            this.offsprings = offsprings;

            this.x = x;
            this.y = y;
            this.targetX = targetX;
            this.targetY = targetY;

            this.shade = shade;
            this.history = [];
          }
          update(delta) {
            if (this.dead) return;

            let xDiff = this.targetX - this.x;
            let yDiff = this.targetY - this.y;
            if (Math.abs(xDiff) > 3 || Math.abs(yDiff) > 3) {
              // is still moving
              this.x += xDiff * 2 * delta;
              this.y += yDiff * 2 * delta;

              this.history.push({
                x: this.x,
                y: this.y,
              });

              if (this.history.length > 20) this.history.shift();
            } else {
              if (this.offsprings && !this.madeChilds) {
                let babies = this.offsprings / 2;
                for (let i = 0; i < babies; i++) {
                  let targetX =
                    (this.x + this.offsprings * Math.cos((PI2 * i) / babies)) |
                    0;
                  let targetY =
                    (this.y + this.offsprings * Math.sin((PI2 * i) / babies)) |
                    0;

                  birthday.fireworks.push(
                    new Firework(
                      this.x,
                      this.y,
                      targetX,
                      targetY,
                      this.shade,
                      0
                    )
                  );
                }
              }
              this.madeChilds = true;
              this.history.shift();
            }

            if (this.history.length === 0) this.dead = true;
            else if (this.offsprings) {
              for (let i = 0; this.history.length > i; i++) {
                let point = this.history[i];
                ctx.beginPath();
                ctx.fillStyle = "hsl(" + this.shade + ",100%," + i + "%)";
                ctx.arc(point.x, point.y, 1, 0, PI2, false);
                ctx.fill();
              }
            } else {
              ctx.beginPath();
              ctx.fillStyle = "hsl(" + this.shade + ",100%,50%)";
              ctx.arc(this.x, this.y, 1, 0, PI2, false);
              ctx.fill();
            }
          }
        }

        let canvas = document.getElementById("birthday");
        let ctx = canvas.getContext("2d");

        let then = timestamp();

        let birthday = new Birthday();
        window.onresize = () => birthday.resize();
        document.onclick = (evt) => birthday.onClick(evt);
        document.ontouchstart = (evt) => birthday.onClick(evt);
        (function loop() {
          requestAnimationFrame(loop);

          let now = timestamp();
          let delta = now - then;

          then = now;
          birthday.update(delta / 1000);
        })();
      } else {
        // Date is not the same as specified
        $("body").css("cursor", "unset");
        $(".card img, .card svg").hide();
        $(".card h1").html("This section is not yet ready for viewing");
        $("#rotate").html("Please come back again in").append(`
        <div id="countdown">
          <style>     
            li {
              display: inline-block;
              font-size: 15px;
              list-style-type: none;
              padding: 1em;
              text-transform: uppercase;
            }

            li span {
              display: block;
              font-size: 4.5rem;
            }
          </style>
          <ul style="padding: 0;">
            <li><span id="days"></span>days</li>
            <li><span id="hours"></span>Hours</li>
            <li><span id="minutes"></span>Minutes</li>
            <li><span id="seconds"></span>Seconds</li>
          </ul>
        </div>
        `);
        (function () {
          const second = 1000,
            minute = second * 60,
            hour = minute * 60,
            day = hour * 24;

          //I'm adding this section so I don't have to keep updating this pen every year :-)
          //remove this if you don't need it
          let today = new Date(),
            dd = String(today.getDate()).padStart(2, "0"),
            mm = String(today.getMonth() + 1).padStart(2, "0"),
            yyyy = today.getFullYear(),
            nextYear = yyyy + 1,
            dayMonth = "09/18/",
            birthday = dayMonth + yyyy;

          today = mm + "/" + dd + "/" + yyyy;
          if (today > birthday) {
            birthday = dayMonth + nextYear;
          }
          //end

          const countDown = new Date(birthday).getTime(),
            x = setInterval(function () {
              const now = new Date().getTime(),
                distance = countDown - now;

              (document.getElementById("days").innerText = Math.floor(
                distance / day
              )),
                (document.getElementById("hours").innerText = Math.floor(
                  (distance % day) / hour
                )),
                (document.getElementById("minutes").innerText = Math.floor(
                  (distance % hour) / minute
                )),
                (document.getElementById("seconds").innerText = Math.floor(
                  (distance % minute) / second
                ));

              //seconds
              if (distance < 0) {
                location.reload();
              }
            }, 0);
        })();
      }
    </script>
  </body>
</html>
